
# ğŸ”§ Imagen base liviana con Python 3
FROM python:3.11-slim

# ğŸ  Directorio de trabajo dentro del contenedor
WORKDIR /app

# ğŸ“¦ Instalar herramientas necesarias (nmap, john, sudo, apt-utils)
RUN apt update && \
    apt install -y nmap john sudo apt-utils && \
    apt clean

# ğŸ Copiar el cÃ³digo del proyecto al contenedor
COPY ./src ./src
COPY ./scripts ./scripts
COPY ./outputs ./outputs
COPY ./config ./config

# ğŸ“‚ Crear carpeta para logs y reportes si no existe
RUN mkdir -p /app/outputs

# ğŸ“œ Copiar el entrypoint
COPY ./scripts/docker_entrypoint.sh /entrypoint.sh
RUN chmod +x /entrypoint.sh

# ğŸ“Œ Definir punto de entrada
ENTRYPOINT ["/entrypoint.sh"]
